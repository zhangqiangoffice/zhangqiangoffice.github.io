---
title: '字符串转数字'
tags: []
date: 2016-10-21 17:01:35
---

方法主要有三种

转换函数、强制类型转换、利用js变量弱类型转换。

1.转换函数：

js提供了parseInt()和parseFloat()两个转换函数。前者把值转换成整数，后者把值转换成浮点数。只有对String类型调用这些方法，这两个函数才能正确运行；对其他类型返回的都是NaN(Not a Number)。

    <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">"1234blue"</span>); <span class="hljs-comment">//returns 1234</span>
    <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">"0xA"</span>); <span class="hljs-comment">//returns 10</span>
    <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">"22.5"</span>); <span class="hljs-comment">//returns 22</span>
    <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">"blue"</span>); <span class="hljs-comment">//returns NaN</span>`</pre>

    parseInt()方法还有基模式，可以把二进制、八进制、十六进制或其他任何进制的字符串转换成整数。基是由parseInt()方法的第二个参数指定的，示例如下：

    <pre class="prettyprint">`<span class="hljs-built_in">parseInt</span>(<span class="hljs-string">"AF"</span>, <span class="hljs-number">16</span>); <span class="hljs-comment">//returns 175</span>
    <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">"10"</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">//returns 2</span>
    <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">"10"</span>, <span class="hljs-number">8</span>); <span class="hljs-comment">//returns 8</span>
    <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">"10"</span>, <span class="hljs-number">10</span>); <span class="hljs-comment">//returns 10</span>`</pre>

    如果十进制数包含前导0，那么最好采用基数10，这样才不会意外地得到八进制的值。例如：

    <pre class="prettyprint">`<span class="hljs-built_in">parseInt</span>(<span class="hljs-string">"010"</span>); <span class="hljs-comment">//returns 8</span>
    <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">"010"</span>, <span class="hljs-number">8</span>); <span class="hljs-comment">//returns 8</span>
    <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">"010"</span>, <span class="hljs-number">10</span>); <span class="hljs-comment">//returns 10</span>`</pre>

    parseFloat()方法与parseInt()方法的处理方式相似。 

    使用parseFloat()方法的另一不同之处在于，字符串必须以十进制形式表示浮点数，parseFloat()没有基模式。

    下面是使用parseFloat()方法的示例：

    <pre class="prettyprint">`<span class="hljs-built_in">parseFloat</span>(<span class="hljs-string">"1234blue"</span>); <span class="hljs-comment">//returns 1234.0</span>
    <span class="hljs-built_in">parseFloat</span>(<span class="hljs-string">"0xA"</span>); <span class="hljs-comment">//returns NaN</span>
    <span class="hljs-built_in">parseFloat</span>(<span class="hljs-string">"22.5"</span>); <span class="hljs-comment">//returns 22.5</span>
    <span class="hljs-built_in">parseFloat</span>(<span class="hljs-string">"22.34.5"</span>); <span class="hljs-comment">//returns 22.34</span>
    <span class="hljs-built_in">parseFloat</span>(<span class="hljs-string">"0908"</span>); <span class="hljs-comment">//returns 908</span>
    <span class="hljs-built_in">parseFloat</span>(<span class="hljs-string">"blue"</span>); <span class="hljs-comment">//returns NaN</span>`</pre>

    2.强制类型转换

    还可使用强制类型转换（type casting）处理转换值的类型。使用强制类型转换可以访问特定的值，即使它是另一种类型的。 

    ECMAScript中可用的3种强制类型转换如下： 

    Boolean(value)——把给定的值转换成Boolean型； 

    Number(value)——把给定的值转换成数字（可以是整数或浮点数）； 

    String(value)——把给定的值转换成字符串。 

    用这三个函数之一转换值，将创建一个新值，存放由原始值直接转换成的值。这会造成意想不到的后果。 

    当要转换的值是至少有一个字符的字符串、非0数字或对象（下一节将讨论这一点）时，Boolean()函数将返回true。如果该值是空字符串、数字0、undefined或null，它将返回false。

    可以用下面的代码段测试Boolean型的强制类型转换。

    <pre class="prettyprint">`<span class="hljs-built_in">Boolean</span>(<span class="hljs-string">""</span>); <span class="hljs-comment">//false – empty string</span>
    <span class="hljs-built_in">Boolean</span>(<span class="hljs-string">"hi"</span>); <span class="hljs-comment">//true – non-empty string</span>
    <span class="hljs-built_in">Boolean</span>(<span class="hljs-number">100</span>); <span class="hljs-comment">//true – non-zero number</span>
    <span class="hljs-built_in">Boolean</span>(<span class="hljs-literal">null</span>); <span class="hljs-comment">//false - null</span>
    <span class="hljs-built_in">Boolean</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">//false - zero</span>
    <span class="hljs-built_in">Boolean</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>()); <span class="hljs-comment">//true – object</span>`</pre>

    Number()的强制类型转换与parseInt()和parseFloat()方法的处理方式相似，只是它转换的是整个值，而不是部分值。示例如下：

    <pre class="prettyprint">`<span class="hljs-built_in">Number</span>(<span class="hljs-literal">false</span>) <span class="hljs-number">0</span>
    <span class="hljs-built_in">Number</span>(<span class="hljs-literal">true</span>) <span class="hljs-number">1</span>
    <span class="hljs-built_in">Number</span>(<span class="hljs-literal">undefined</span>) <span class="hljs-literal">NaN</span>
    <span class="hljs-built_in">Number</span>(<span class="hljs-literal">null</span>) <span class="hljs-number">0</span>
    <span class="hljs-built_in">Number</span>( <span class="hljs-string">"5.5 "</span>) <span class="hljs-number">5.5</span>
    <span class="hljs-built_in">Number</span>( <span class="hljs-string">"56 "</span>) <span class="hljs-number">56</span>
    <span class="hljs-built_in">Number</span>( <span class="hljs-string">"5.6.7 "</span>) <span class="hljs-literal">NaN</span>
    <span class="hljs-built_in">Number</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>()) <span class="hljs-literal">NaN</span>
    <span class="hljs-built_in">Number</span>(<span class="hljs-number">100</span>) <span class="hljs-number">100</span>`</pre>

    最后一种强制类型转换方法String()是最简单的，示例如下：

    <pre class="prettyprint">`<span class="hljs-keyword">var</span> s1 = <span class="hljs-built_in">String</span>(<span class="hljs-literal">null</span>); <span class="hljs-comment">//"null"</span>
    <span class="hljs-keyword">var</span> oNull = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">var</span> s2 = oNull.toString(); <span class="hljs-comment">//won't work, causes an error</span>`</pre>

    3.利用js变量弱类型转换

    举个小例子，就明白了。

    <pre class="prettyprint">`&lt;script&gt;
    <span class="hljs-keyword">var</span> str= <span class="hljs-string">'012.345 '</span>;
    <span class="hljs-keyword">var</span> x = str-<span class="hljs-number">0</span>;
    x = x*<span class="hljs-number">1</span>;
    <span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span></span>

上例利用了js的弱类型的特点，只进行了算术运算，实现了字符串到数字的类型转换，不过这个方法还是不推荐的